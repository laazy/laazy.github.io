---
layout: post
title: java 虚拟机工具
tags: java note
---

# Java虚拟机检测和故障处理工具简述

## JPS 虚拟机进程状况工具

类似ps，可以列出正在运行的虚拟机进程和虚拟机执行主类的名称，已经这些进程的本地虚拟机唯一ID（LVMID）。

## JSTAT 虚拟机统计信息监视工具

由于监视虚拟机各种运行状态信息。可以显示本地货远程虚拟机进程中的类装载、内存、垃圾手机、JIT编译等数据。

## JINFO Java配置信息工具

可以实时查看和调整虚拟机各项参数。

## JMAP Java内存映像工具

可以获取堆转储快照。若不用此命令可以用 `-XX:+HeapSumpOnOutOfMemory`参数，让虚拟机在OOM异常后自动dump。

jamp还可以查询`finalize`执行队列，Java堆和永久代的详细信息。

## JHAT 虚拟机堆转储快照分析工具

可以分析jmap生成的快照。不过不好用，一般用VisualVM或者专业分析快照的其他工具。

## JSTACK Java堆栈跟踪工具

用于生产虚拟机当前时刻线程快照，即每条线程正在执行的方法堆栈的集合。

----

以上为命令行工具，以下为JDK的可视化工具。

----

## JConsole Java监视与管理控制台

图形化的JVM监视工具，基于JMX标准。可以检测内存、线程、死锁等。

具体功能不详述。

## VisualVM 多合一故障处理工具

基于NetBeans平台开发。
- 可以显示虚拟机进程和进程配置环境信息。 
- 可以监视CPU、GC、堆、方法区、线程等。
- 方法级程序性能分析。
- 离线程序快照。
- 支持插件。

具体功能不详述。
